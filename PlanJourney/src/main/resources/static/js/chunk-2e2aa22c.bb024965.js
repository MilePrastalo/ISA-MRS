(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2e2aa22c"],{"0d19":function(t,e,a){"use strict";var s=a("d504"),i=a.n(s);i.a},"0f52":function(t,e,a){"use strict";var s=a("c941"),i=a.n(s);i.a},"1d57":function(t,e,a){},"28e4":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"allFlights"}},[a("div",{staticClass:"quickContainer"},[a("br"),a("br"),a("br"),a("h2",[t._v("Quick Tickets: ")]),a("br"),a("table",{staticClass:"table",attrs:{border:"1"}},[t._m(0),a("tbody",t._l(t.quickReservations,function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(e.startDestination))]),a("td",[t._v(t._s(e.endDestination))]),a("td",[t._v(t._s(e.startDate))]),a("td",[t._v(t._s(e.endDate))]),a("td",[t._v(t._s(e.travelClass)+" ("+t._s(e.seatRow)+","+t._s(e.seatColumn)+")")]),a("td",[t._v(t._s(e.originPrice))]),a("td",[t._v(t._s(e.discount))]),"FLIGHT_ADMIN"==t.role&&0==e.taken?a("td",[a("Button",{staticClass:"btn btn-outline-primary",on:{click:function(a){return t.remove(e.id,s)}}},[t._v("Delete")])],1):t._e(),"FLIGHT_ADMIN"==t.role&&1==e.taken?a("td",{staticStyle:{color:"green","font-weight":"bold"}},[t._v(" Reserved")]):t._e(),"REGISTERED"==t.role&&0==e.taken?a("td",{on:{click:function(a){return t.bookQuickTicket(e)}}},[a("Button",{staticClass:"btn btn-outline-primary"},[t._v("Reserve")])],1):t._e(),"REGISTERED"==t.role&&1==e.taken?a("td",{staticStyle:{color:"green","font-weight":"bold"},on:{click:function(a){return t.bookQuickTicket(e)}}},[t._v(" Reserved")]):t._e()])}),0)])])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("Start destination")]),a("th",{attrs:{scope:"col"}},[t._v("End destination")]),a("th",{attrs:{scope:"col"}},[t._v("Start date")]),a("th",{attrs:{scope:"col"}},[t._v("End date")]),a("th",{attrs:{scope:"col"}},[t._v("Seat")]),a("th",{attrs:{scope:"col"}},[t._v("Origin price")]),a("th",{attrs:{scope:"col"}},[t._v("Discount")]),a("th")])])}],n=a("bc3a"),o=a.n(n),r={name:"allFlights",components:{},props:["idCompany"],data:function(){return{role:"",quickReservations:[]}},mounted:function(){var t=this,e=function(){return localStorage.getItem("jwtToken")};o.a.defaults.headers.common["Authorization"]="Bearer "+e(),o.a.get("/api/getUserRole").then(function(e){t.role=e.data,"FLIGHT_ADMIN"==e.data?o.a.get("/api/getQuickReservations").then(function(e){t.quickReservations=e.data}):"REGISTERED"==e.data&&o.a.get("/api/getQuickReservationsCompany/"+t.idCompany).then(function(e){t.quickReservations=e.data})})},methods:{bookQuickTicket:function(t){if(1!=t.taken){var e={id:t.id,flightId:t.flightId,seatId:t.seatId,originPrice:t.originPrice,discount:t.discount};o.a.post("/api/makeQuickReservation",e).then(function(e){"success"==e.data?alert("Reservation was successful! You will get e-mail about it."):alert(e.data),t.taken=!0})}else alert("Sorry, it's already taken!")},remove:function(t,e){var a=this,s=function(){return localStorage.getItem("jwtToken")};o.a.defaults.headers.common["Authorization"]="Bearer "+s(),o.a.get("/api/removeQuickFlightReservation/"+t).then(function(t){alert(t.data),a.quickReservations.splice(e,1)})}}},l=r,c=(a("0f52"),a("2877")),d=Object(c["a"])(l,s,i,!1,null,null,null);e["a"]=d.exports},"339d":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"flightAdmin"}},[a("navbar",{attrs:{itype:"1"}}),a("br"),a("div",{staticClass:"centered",staticStyle:{"margin-left":"8.4%","margin-right":"8.4%"}},[a("nav",[a("div",{staticClass:"nav nav-tabs nav-fill",attrs:{id:"nav-tab",role:"tablist"}},[a("a",{staticClass:"nav-item nav-link active",attrs:{id:"companyProfile","data-toggle":"tab",role:"tab","aria-controls":"nav-profile","aria-selected":"false"},on:{click:function(e){return t.selectTab(2)}}},[t._v("Flight Company profile")]),a("a",{staticClass:"nav-item nav-link",attrs:{id:"flights","data-toggle":"tab",role:"tab","aria-controls":"nav-profile","aria-selected":"false"},on:{click:function(e){return t.selectTab(3)}}},[t._v("Flights")]),a("a",{staticClass:"nav-item nav-link",attrs:{id:"newFlight","data-toggle":"tab",role:"tab","aria-controls":"nav-profile","aria-selected":"false"},on:{click:function(e){return t.selectTab(4)}}},[t._v("New Flight")]),a("a",{staticClass:"nav-item nav-link",attrs:{id:"destinations","data-toggle":"tab",role:"tab","aria-controls":"nav-profile","aria-selected":"false"},on:{click:function(e){return t.selectTab(5)}}},[t._v("Airports")]),a("a",{staticClass:"nav-item nav-link",attrs:{id:"quickTickets","data-toggle":"tab",role:"tab","aria-controls":"nav-profile","aria-selected":"false"},on:{click:function(e){return t.selectTab(6)}}},[t._v("Quick Tickets")]),a("a",{staticClass:"nav-item nav-link",attrs:{id:"addQuickTicket","data-toggle":"tab",role:"tab","aria-controls":"nav-profile","aria-selected":"false"},on:{click:function(e){return t.selectTab(7)}}},[t._v("Add Quick Ticket")]),a("a",{staticClass:"nav-item nav-link",attrs:{id:"reports","data-toggle":"tab",role:"tab","aria-controls":"nav-profile","aria-selected":"false"},on:{click:function(e){return t.selectTab(8)}}},[t._v("Reports")])])])]),a("div",{staticClass:"tab-content py-3 px-3 px-sm-0 container",staticStyle:{"min-height":"450px"},attrs:{id:"nav-tabContent"}},[2==t.currentTab?a("div",{staticClass:"centered col-lg-10"},[a("div",{staticClass:"row",staticStyle:{"margin-right":"10%"}},[a("flightCompanyProfile",{staticStyle:{"margin-left":"36%"}}),a("div",{staticStyle:{"margin-left":"36%"}},[a("form",{on:{submit:t.updateFlightCompanyInfo}},[a("table",{staticClass:"centered",staticStyle:{"text-align":"left"}},[a("tr",[a("td",[t._v(" Seats Info: ")]),a("td",[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.seatsInfo,expression:"seatsInfo"}],staticStyle:{overflow:"scroll"},attrs:{rows:"5",cols:"22"},domProps:{value:t.seatsInfo},on:{input:function(e){e.target.composing||(t.seatsInfo=e.target.value)}}})])]),a("tr",[a("td",[t._v(" Laguage Info: ")]),a("td",[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.laguageInfo,expression:"laguageInfo"}],staticStyle:{overflow:"scroll"},attrs:{rows:"5",cols:"22",name:"laguageInfo"},domProps:{value:t.laguageInfo},on:{input:function(e){e.target.composing||(t.laguageInfo=e.target.value)}}})])]),t._m(0)])])])],1)]):t._e(),3==t.currentTab?a("div",[a("allFlights")],1):t._e(),4==t.currentTab?a("div",[a("newFlight")],1):t._e(),5==t.currentTab?a("div",[a("destinations")],1):t._e(),6==t.currentTab?a("div",[a("quickReservations")],1):t._e(),7==t.currentTab?a("div",[a("addQuickReservation")],1):t._e(),8==t.currentTab?a("div",[a("flightCompanyReport")],1):t._e()])],1)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td"),a("td",[a("button",{staticClass:"btn btn-primary"},[t._v("Edit")])])])}],n=a("7315"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"addFlight"}},[a("div",{staticClass:"newFlightContainer"},[a("br"),a("br"),a("h2",[t._v("New Flight: ")]),a("br"),a("form",{on:{submit:t.addFlight}},[a("table",{staticClass:"centered",staticStyle:{"text-align":"left"}},[a("th",{staticStyle:{"text-align":"center"},attrs:{colspan:"2"}},[t._v("Basic Info")]),a("tr",[a("td",[t._v(" Start destination: ")]),a("td",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.startDestination,expression:"startDestination"}],attrs:{name:"startDestination",id:"startDestination",required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.startDestination=e.target.multiple?a:a[0]}}},t._l(t.destinations,function(e){return a("option",{key:e.id,domProps:{value:e}},[t._v(t._s(e.name))])}),0)])]),a("tr",[a("td",[t._v(" End destination: ")]),a("td",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.endDestination,expression:"endDestination"}],attrs:{name:"endDestination",id:"endDestination",required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.endDestination=e.target.multiple?a:a[0]}}},t._l(t.destinations,function(e){return a("option",{key:e.id,domProps:{value:e}},[t._v(t._s(e.name))])}),0)])]),a("tr",[a("td",[t._v(" Start date: ")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.startDate,expression:"startDate"}],attrs:{type:"date",name:"startDate",required:""},domProps:{value:t.startDate},on:{input:function(e){e.target.composing||(t.startDate=e.target.value)}}})]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.startDate_time,expression:"startDate_time"}],attrs:{type:"time",name:"time_startDate",placeholder:"hh:mm",required:""},domProps:{value:t.startDate_time},on:{input:function(e){e.target.composing||(t.startDate_time=e.target.value)}}})])]),a("tr",[a("td",[t._v(" End date: ")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.endDate,expression:"endDate"}],attrs:{type:"date",name:"endDate",required:""},domProps:{value:t.endDate},on:{input:function(e){e.target.composing||(t.endDate=e.target.value)}}})]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.endDate_time,expression:"endDate_time"}],attrs:{type:"time",name:"time_endDate",placeholder:"hh:mm",required:""},domProps:{value:t.endDate_time},on:{input:function(e){e.target.composing||(t.endDate_time=e.target.value)}}})])]),a("tr",[a("td",[t._v(" Flight duration: ")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.flightDuration,expression:"flightDuration"}],attrs:{type:"text",name:"flightDuration",required:""},domProps:{value:t.flightDuration},on:{input:function(e){e.target.composing||(t.flightDuration=e.target.value)}}})])]),a("tr",[a("td",[t._v(" Flight length: ")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.flightLength,expression:"flightLength"}],attrs:{type:"text",name:"flightLength",required:""},domProps:{value:t.flightLength},on:{input:function(e){e.target.composing||(t.flightLength=e.target.value)}}})])]),a("tr",[a("td",[t._v(" Transitions: ")]),a("td",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.oneTransition,expression:"oneTransition"}],attrs:{"data-live-search":"true"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.oneTransition=e.target.multiple?a:a[0]}}},t._l(this.destinations,function(e){return a("option",{key:e.id},[t._v(t._s(e.name))])}),0)]),a("td",[a("button",{on:{click:t.addTransition}},[t._v("Add")])])]),a("tr",[a("td"),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.transitions,expression:"transitions"}],attrs:{type:"text",name:"transitions"},domProps:{value:t.transitions},on:{input:function(e){e.target.composing||(t.transitions=e.target.value)}}})])]),a("tr",[a("td",[t._v(" Additional services: ")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.additionalServices,expression:"additionalServices"}],attrs:{type:"text"},domProps:{value:t.additionalServices},on:{input:function(e){e.target.composing||(t.additionalServices=e.target.value)}}})])]),a("th",{staticStyle:{"text-align":"center"},attrs:{colspan:"2"}},[t._v("Price")]),a("tr",[a("td",[t._v(" Economic class: ")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.economicPrice,expression:"economicPrice"}],attrs:{type:"text",name:"economicPrice",required:""},domProps:{value:t.economicPrice},on:{input:function(e){e.target.composing||(t.economicPrice=e.target.value)}}})])]),a("tr",[a("td",[t._v(" Buisiness class: ")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.buisinesssPrice,expression:"buisinesssPrice"}],attrs:{type:"text",name:"buisinesssPrice",required:""},domProps:{value:t.buisinesssPrice},on:{input:function(e){e.target.composing||(t.buisinesssPrice=e.target.value)}}})])]),a("tr",[a("td",[t._v(" First class: ")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.firstClassPrice,expression:"firstClassPrice"}],attrs:{type:"text",name:"firstClassPrice",required:""},domProps:{value:t.firstClassPrice},on:{input:function(e){e.target.composing||(t.firstClassPrice=e.target.value)}}})])]),a("th",{staticStyle:{"text-align":"center"},attrs:{colspan:"2"}},[t._v("Capacity")]),a("tr",[a("td",[t._v(" Economic class:")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.economicCapacity_rows,expression:"economicCapacity_rows"}],attrs:{type:"number",required:"",placeholder:"Rows"},domProps:{value:t.economicCapacity_rows},on:{input:function(e){e.target.composing||(t.economicCapacity_rows=e.target.value)}}})]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.economicCapacity_columns,expression:"economicCapacity_columns"}],attrs:{type:"number",required:"",placeholder:"Columns"},domProps:{value:t.economicCapacity_columns},on:{input:function(e){e.target.composing||(t.economicCapacity_columns=e.target.value)}}})])]),a("tr",[a("td",[t._v(" Buisiness class:")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.buisinesssCapacity_rows,expression:"buisinesssCapacity_rows"}],attrs:{type:"number",required:"",placeholder:"Rows"},domProps:{value:t.buisinesssCapacity_rows},on:{input:function(e){e.target.composing||(t.buisinesssCapacity_rows=e.target.value)}}})]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.buisinesssCapacity_columns,expression:"buisinesssCapacity_columns"}],attrs:{type:"number",required:"",placeholder:"Columns"},domProps:{value:t.buisinesssCapacity_columns},on:{input:function(e){e.target.composing||(t.buisinesssCapacity_columns=e.target.value)}}})])]),a("tr",[a("td",[t._v(" First class:")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.firstClassCapacity_rows,expression:"firstClassCapacity_rows"}],attrs:{type:"number",required:"",placeholder:"Rows"},domProps:{value:t.firstClassCapacity_rows},on:{input:function(e){e.target.composing||(t.firstClassCapacity_rows=e.target.value)}}})]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.firstClassCapacity_columns,expression:"firstClassCapacity_columns"}],attrs:{type:"number",required:"",placeholder:"Columns"},domProps:{value:t.firstClassCapacity_columns},on:{input:function(e){e.target.composing||(t.firstClassCapacity_columns=e.target.value)}}})])]),a("th",{staticStyle:{"text-align":"center"},attrs:{colspan:"2"}}),a("br"),t._m(0)])])])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td"),a("td",[a("input",{staticClass:"btn btn-primary",attrs:{type:"submit",value:"Add flight"}})])])}],l=(a("7f7f"),a("28a5"),a("bc3a")),c=a.n(l),d={name:"addFlight",components:{},data:function(){return{startDestination:"",endDestination:"",startDate:"",startDate_time:"",endDate:"",endDate_time:"",flightDuration:"",flightLength:"",buisinesssPrice:"",firstClassPrice:"",economicPrice:"",economicCapacity_rows:"",economicCapacity_columns:"",buisinesssCapacity_rows:"",buisinesssCapacity_columns:"",firstClassCapacity_rows:"",firstClassCapacity_columns:"",destinations:[],transitions:"",oneTransition:"",additionalServices:""}},mounted:function(){var t=this,e=function(){return localStorage.getItem("jwtToken")};c.a.defaults.headers.common["Authorization"]="Bearer "+e(),c.a.get("/api/getDestinations").then(function(e){t.destinations=e.data})},methods:{addFlight:function(t){if(t.preventDefault(),0!=this.checkTransitions())if(this.startDestination!=this.endDestination)if(isNaN(this.buisinesssPrice)||isNaN(this.firstClassPrice)||isNaN(this.economicPrice))alert("All prices must be numbers!");else if(this.buisinesssPrice<0||this.economicPrice<0||this.firstClassPrice<0)alert("Price can not have negative value!");else if(isNaN(this.flightDuration)||isNaN(this.flightLength)||isNaN(this.economicPrice))alert("Both, duration and length of flihts must be numbers!");else{(this.flightDuration<0||this.flightLength<0)&&alert("Both, duration and length of flihts can not have negative value!");var e=this.startDate+" "+this.startDate_time,a=this.endDate+" "+this.endDate_time,s={startDestination:this.startDestination.id,endDestination:this.endDestination.id,startDate_str:e,endDate_str:a,flightDuration:this.flightDuration,flightLength:this.flightLength,businessPrice:this.buisinesssPrice,economicPrice:this.economicPrice,firstClassPrice:this.firstClassPrice,economicRows:this.economicCapacity_rows,economicColumns:this.economicCapacity_columns,businessRows:this.buisinesssCapacity_rows,businessColumns:this.buisinesssCapacity_columns,firstClassRows:this.firstClassCapacity_rows,firstClassColumns:this.firstClassCapacity_columns,additionalServices:this.additionalServices,transitions:this.transitions},i=function(){return localStorage.getItem("jwtToken")};c.a.defaults.headers.common["Authorization"]="Bearer "+i(),c.a.post("/api/addFlight",s).then(function(t){alert(t.data)})}else alert("Start and end destinations can not be the same!")},addTransition:function(t){if(t.preventDefault(),"0"==this.transitions||""==this.transitions)return this.transitions=this.oneTransition,void(this.oneTransition="");this.transitions=this.transitions+","+this.oneTransition,this.oneTransition=""},checkTransitions:function(){if("0"==this.transitions||""==this.transitions)return this.transitions="0",!0;var t,e,a;try{t=this.transitions.split(",")}catch(i){return alert("Transitions are not valid!"),!1}var s=!1;for(e in t){for(a in s=!1,this.destinations)if(this.destinations[a].name==t[e]&&this.startDestination.name!=t[e]&&this.endDestination.name!=t[e]){s=!0;break}if(0==s)return alert("Transitions are not valid!"),!1}return!0}}},u=d,m=(a("b438"),a("2877")),p=Object(m["a"])(u,o,r,!1,null,null,null),v=p.exports,g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"destinations"}},[a("div",{staticClass:"container"},[a("br"),a("br"),a("h2",[t._v("New Airport: ")]),a("br"),a("br"),a("div",{staticClass:"row",staticStyle:{"margin-left":"20%"}},[a("br"),a("form",{on:{submit:t.addNewDestination}},[a("table",{staticClass:"centered",staticStyle:{"text-align":"left"}},[a("tr",[a("td",[t._v(" City: ")]),a("td",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.DestCity,expression:"DestCity"}],attrs:{required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.DestCity=e.target.multiple?a:a[0]}}},t._l(this.cities,function(e){return a("option",{key:e.id,domProps:{value:e}},[t._v(t._s(e.name))])}),0)])]),a("tr",[a("td",[t._v(" Name: ")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.DestName,expression:"DestName"}],attrs:{type:"text",name:"DestName",required:""},domProps:{value:t.DestName},on:{input:function(e){e.target.composing||(t.DestName=e.target.value)}}})])]),a("tr",[a("td",[t._v(" Address: ")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.DestAddress,expression:"DestAddress"}],attrs:{type:"text",name:"DestAddress",required:""},domProps:{value:t.DestAddress},on:{input:function(e){e.target.composing||(t.DestAddress=e.target.value)}}})])]),a("tr",[a("td",[t._v(" Description: ")]),a("td",[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.DestDescription,expression:"DestDescription"}],staticStyle:{overflow:"scroll"},attrs:{rows:"5",cols:"22",name:"DestDescription",required:""},domProps:{value:t.DestDescription},on:{input:function(e){e.target.composing||(t.DestDescription=e.target.value)}}})])]),a("tr",[a("td",[t._v(" Latitude: ")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.DestLatitude,expression:"DestLatitude"}],attrs:{type:"text",name:"DestLatitude",required:""},domProps:{value:t.DestLatitude},on:{input:function(e){e.target.composing||(t.DestLatitude=e.target.value)}}})])]),a("tr",[a("td",[t._v(" Longitude: ")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.DestLongitude,expression:"DestLongitude"}],attrs:{type:"text",name:"DestLongitude",required:""},domProps:{value:t.DestLongitude},on:{input:function(e){e.target.composing||(t.DestLongitude=e.target.value)}}})])]),t._m(0)])]),a("div",{staticClass:"col"},[a("yandex-map",{staticStyle:{width:"350px",height:"250px"},attrs:{coords:[this.DestLatitude,this.DestLongitude],zoom:"14",controlss:["zoomControl"],"map-type":"hybrid"}},[a("ymap-marker",{attrs:{"marker-id":"1","marker-type":"placemark",coords:[this.DestLatitude,this.DestLongitude],"marker-fill":{color:"#0E4779",opacity:.5},"marker-stroke":{color:"#0E4779",width:4}}})],1)],1)]),a("div",[a("br"),a("br"),a("h2",[t._v("All Airports: ")]),a("br"),a("div",{staticClass:"row"},[a("table",{staticClass:"centered table",attrs:{border:"1"}},[t._m(1),t._l(t.destinations,function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(e.cityName))]),1==t.editing?a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"destination.name"}],attrs:{type:"text"},domProps:{value:e.name},on:{input:function(a){a.target.composing||t.$set(e,"name",a.target.value)}}})]):a("td",[t._v(t._s(e.name))]),1==t.editing?a("td",[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.address,expression:"destination.address"}],staticStyle:{overflow:"scroll"},attrs:{rows:"5",cols:"22",name:"DestAddress"},domProps:{value:e.address},on:{input:function(a){a.target.composing||t.$set(e,"address",a.target.value)}}})]):a("td",[t._v(t._s(e.address))]),1==t.editing?a("td",[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.description,expression:"destination.description"}],staticStyle:{overflow:"scroll"},attrs:{rows:"5",cols:"22",name:"DestDescription"},domProps:{value:e.description},on:{input:function(a){a.target.composing||t.$set(e,"description",a.target.value)}}})]):a("td",[t._v(t._s(e.description))]),1==t.editing?a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.longitude,expression:"destination.longitude"}],attrs:{type:"text",name:"DestLongitude"},domProps:{value:e.longitude},on:{input:function(a){a.target.composing||t.$set(e,"longitude",a.target.value)}}})]):a("td",[t._v(" "+t._s(e.longitude))]),1==t.editing?a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.latitude,expression:"destination.latitude"}],attrs:{type:"text",name:"DestLatitude"},domProps:{value:e.latitude},on:{input:function(a){a.target.composing||t.$set(e,"latitude",a.target.value)}}})]):a("td",[t._v(" "+t._s(e.latitude)+" ")]),0==t.editing?a("td",[a("button",{staticClass:"btn btn-outline-primary",on:{click:t.editDestination}},[t._v("Edit")])]):t._e(),1==t.editing?a("td",[a("button",{staticClass:"btn btn-outline-primary",on:{click:function(a){return t.saveChanges(e)}}},[t._v("Save")])]):t._e(),a("td",[a("button",{staticClass:"btn btn-outline-primary",on:{click:function(a){return t.deleteDestination(s,e)}}},[t._v("Delete")])])])})],2)])])])])},h=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td"),a("td",[a("button",{staticClass:"btn btn-primary"},[t._v("Add Airport")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("City")]),a("th",{attrs:{scope:"col"}},[t._v("Name")]),a("th",{attrs:{scope:"col"}},[t._v("Address")]),a("th",{attrs:{scope:"col"}},[t._v("Description")]),a("th",{attrs:{scope:"col"}},[t._v("Longitude")]),a("th",{attrs:{scope:"col"}},[t._v("Latitude")]),a("th"),a("th")])])}],f={name:"flightCompanyProfile",components:{},data:function(){return{DestCity:"",DestName:"",DestDescription:"",DestAddress:"",DestLatitude:"",DestLongitude:"",destinations:[],cities:[],editing:!1}},mounted:function(){var t=this,e=function(){return localStorage.getItem("jwtToken")};c.a.defaults.headers.common["Authorization"]="Bearer "+e(),c.a.get("/api/getDestinations").then(function(e){t.destinations=e.data}),c.a.get("/api/getAllCities").then(function(e){t.cities=e.data})},methods:{addNewDestination:function(t){var e=this;t.preventDefault();var a={name:this.DestName,cityId:this.DestCity.id,description:this.DestDescription,longitude:this.DestLongitude,latitude:this.DestLatitude,address:this.DestAddress},s=function(){return localStorage.getItem("jwtToken")};c.a.defaults.headers.common["Authorization"]="Bearer "+s(),c.a.post("/api/addDestination",a).then(function(t){alert("New destination added!"),e.destinations.push(a),e.DestName=e.DestAddress=e.DestDescription=e.DestLongitude=e.DestLatitude=""})},editDestination:function(){this.editing=!0},saveChanges:function(t){if(""!=t.name&&""!=t.coordinates&&""!=t.description&&""!=t.longitude&&""!=t.latitude){var e=function(){return localStorage.getItem("jwtToken")};c.a.defaults.headers.common["Authorization"]="Bearer "+e(),c.a.post("/api/editDestination",t).then(function(t){alert(t.data)}),this.editing=!1}else alert("Fields can not be empty!")},deleteDestination:function(t,e){var a=this,s=function(){return localStorage.getItem("jwtToken")};c.a.defaults.headers.common["Authorization"]="Bearer "+s(),c.a.get("/api/removeDestination/"+e.id).then(function(e){alert(e.data),"success"==e.data&&a.destinations.splice(t,1)})}}},_=f,b=(a("dfc6"),Object(m["a"])(_,g,h,!1,null,null,null)),y=b.exports,D=a("83d2"),C=a("e6c6"),k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"addQuickReservation"}},[a("br"),a("br"),0==t.choosen?a("div",[a("br"),a("h2",[t._v("Choose flight:")]),a("br"),a("div",{staticClass:"addQuickContainer"},[a("table",{staticClass:"centered",staticStyle:{"text-align":"left"}},[a("tr",[a("td",[t._v("Start destination:")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.startDestination,expression:"startDestination"}],attrs:{type:"text"},domProps:{value:t.startDestination},on:{input:function(e){e.target.composing||(t.startDestination=e.target.value)}}})])]),a("tr",[a("td",[t._v("End destination:")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.endDestination,expression:"endDestination"}],attrs:{type:"text"},domProps:{value:t.endDestination},on:{input:function(e){e.target.composing||(t.endDestination=e.target.value)}}})])]),a("tr",[a("td",[t._v("Depart date:")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.startDate,expression:"startDate"}],attrs:{type:"date"},domProps:{value:t.startDate},on:{input:function(e){e.target.composing||(t.startDate=e.target.value)}}})])]),a("tr",[a("td",[t._v("Return date:")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.endDate,expression:"endDate"}],attrs:{type:"date"},domProps:{value:t.endDate},on:{input:function(e){e.target.composing||(t.endDate=e.target.value)}}})])]),a("tr",[a("td",[a("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.search()}}},[t._v("Search")])])])])]),a("br"),a("div",{staticClass:"container"},[a("table",{staticClass:"table",attrs:{border:"1"}},[t._m(0),t._l(t.flights,function(e){return a("tr",{key:e.id},[a("td",[t._v(t._s(e.startDestination))]),a("td",[t._v(t._s(e.endDestination))]),a("td",[t._v(t._s(e.startDate_str))]),a("td",[t._v(t._s(e.endDate_str))]),a("td",[t._v(t._s(e.flightDuration))]),a("td",[t._v(t._s(e.flightLength))]),a("td",[t._v(t._s(e.economicPrice))]),a("td",[t._v(t._s(e.businessPrice))]),a("td",[t._v(t._s(e.firstClassPrice))]),a("td",[a("Button",{staticClass:"btn btn-outline-primary",on:{click:function(a){return t.choseFlight(e.id)}}},[t._v("Choose ")])],1)])})],2)])]):t._e(),1==t.choosen&&0==t.seatChosen?a("div",{staticClass:"container"},[a("h2",[t._v("Choose seat:")]),a("br"),a("div",{staticClass:"row",staticStyle:{"margin-left":"5%"}},[a("table",{staticClass:"seats"},[a("caption",{staticStyle:{"caption-side":"top","font-weight":"bold"}},[t._v("Economic class")]),t._l(t.seatsE.rows,function(e){return a("tr",{key:e},t._l(t.seatsE.columns,function(s){return a("td",{key:s,class:{unavailable:t.seatsE.seats[s-1+(e-1)*t.seatsE.columns].unavailable,booked:t.seatsE.seats[s-1+(e-1)*t.seatsE.columns].taken,quick:t.seatsE.seats[s-1+(e-1)*t.seatsE.columns].quick},on:{click:function(a){t.modify(t.seatsE.seats[s-1+(e-1)*t.seatsE.columns])}}},[t._v("\n                         ( "+t._s(t.seatsE.seats[s-1+(e-1)*t.seatsE.columns].seatRow)+" , "+t._s(t.seatsE.seats[s-1+(e-1)*t.seatsE.columns].seatColumn)+" )\t\n                     ")])}),0)})],2),a("table",{staticClass:"seats"},[a("caption",{staticStyle:{"caption-side":"top","font-weight":"bold"}},[t._v("Business class")]),t._l(t.seatsB.rows,function(e){return a("tr",{key:e},t._l(t.seatsB.columns,function(s){return a("td",{key:s,class:{unavailable:t.seatsB.seats[s-1+(e-1)*t.seatsB.columns].unavailable,booked:t.seatsB.seats[s-1+(e-1)*t.seatsB.columns].taken,quick:t.seatsB.seats[s-1+(e-1)*t.seatsB.columns].quick},on:{click:function(a){t.modify(t.seatsB.seats[s-1+(e-1)*t.seatsB.columns])}}},[t._v("\n                         ( "+t._s(t.seatsB.seats[s-1+(e-1)*t.seatsB.columns].seatRow)+" , "+t._s(t.seatsB.seats[s-1+(e-1)*t.seatsB.columns].seatColumn)+" )\t\n                     ")])}),0)})],2),a("table",{staticClass:"seats"},[a("caption",{staticStyle:{"caption-side":"top","font-weight":"bold"}},[t._v("First class")]),t._l(t.seatsF.rows,function(e){return a("tr",{key:e},t._l(t.seatsF.columns,function(s){return a("td",{key:s,class:{unavailable:t.seatsF.seats[s-1+(e-1)*t.seatsF.columns].unavailable,booked:t.seatsF.seats[s-1+(e-1)*t.seatsF.columns].taken,quick:t.seatsF.seats[s-1+(e-1)*t.seatsF.columns].quick},on:{click:function(a){t.modify(t.seatsF.seats[s-1+(e-1)*t.seatsF.columns])}}},[t._v("\n                         ( "+t._s(t.seatsF.seats[s-1+(e-1)*t.seatsF.columns].seatRow)+" ,"+t._s(t.seatsF.seats[s-1+(e-1)*t.seatsF.columns].seatColumn)+" )\t\n                     ")])}),0)})],2)])]):t._e(),1==t.choosen&&1==t.seatChosen?a("div",{staticClass:"centered"},[a("form",{on:{submit:t.addQuickReservation}},[a("table",{staticClass:"centered"},[a("th",{attrs:{colspan:"2"}},[t._v("Seat: ("+t._s(this.seat.seatRow)+", "+t._s(this.seat.seatColumn)+")")]),a("tr",[a("td",[t._v("Discount:")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.discount,expression:"discount"}],attrs:{type:"text"},domProps:{value:t.discount},on:{input:function(e){e.target.composing||(t.discount=e.target.value)}}})])]),t._m(1)])])]):t._e()])},w=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("Start destination")]),a("th",{attrs:{scope:"col"}},[t._v("End destination")]),a("th",{attrs:{scope:"col"}},[t._v("Start date")]),a("th",{attrs:{scope:"col"}},[t._v("End date")]),a("th",{attrs:{scope:"col"}},[t._v("Flight duration")]),a("th",{attrs:{scope:"col"}},[t._v("Flight duration")]),a("th",{attrs:{scope:"col"}},[t._v("Flight Length")]),a("th",{attrs:{scope:"col"}},[t._v("Economic price")]),a("th",{attrs:{scope:"col"}},[t._v("Buisiness price")]),a("th",{attrs:{scope:"col"}},[t._v("First class price")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("input",{attrs:{type:"submit"}})])}],P={name:"addQuickReservation",components:{},data:function(){return{startDestination:"",endDestination:"",startDate:"",endDate:"",flights:[],flightId:0,choosen:!1,seatsE:{},seatsB:{},seatsF:{},seatChosen:!1,seat:{},discount:""}},mounted:function(){var t=this,e=function(){return localStorage.getItem("jwtToken")};c.a.defaults.headers.common["Authorization"]="Bearer "+e(),c.a.get("/api/getFlights").then(function(e){t.flights=e.data})},methods:{checkedClass:function(t){this.check=t},search:function(){var t=this,e={startDestination:this.startDestination,endDestination:this.endDestination,startDate:this.startDate,endDate:this.endDate,minEconomic:0,minBusiness:0,minFirstClass:0,maxEconomic:0,maxBusiness:0,maxFirstClass:0,flightDuration:0,flightLength:0},a=function(){return localStorage.getItem("jwtToken")};c.a.defaults.headers.common["Authorization"]="Bearer "+a(),c.a.post("/api/flightsInCompany",e).then(function(e){t.flights=e.data})},choseFlight:function(t){var e=this;this.flightId=t;var a=function(){return localStorage.getItem("jwtToken")};c.a.defaults.headers.common["Authorization"]="Bearer "+a(),c.a.get("/api/getSeatsOnFlight/"+t+"/economic").then(function(t){e.seatsE=t.data}),c.a.get("/api/getSeatsOnFlight/"+t+"/business").then(function(t){e.seatsB=t.data}),c.a.get("/api/getSeatsOnFlight/"+t+"/first class").then(function(t){e.seatsF=t.data}),this.choosen=!0},modify:function(t){0==t.taken&&0==t.unavailable&&0==t.quick&&(this.seat=t,this.seatChosen=!0)},addQuickReservation:function(t){var e=this;t.preventDefault();var a={flightId:this.flightId,seatId:this.seat.id,discount:this.discount},s=function(){return localStorage.getItem("jwtToken")};c.a.defaults.headers.common["Authorization"]="Bearer "+s(),c.a.post("/api/addQuickFlightReservation",a).then(function(t){null!=t.data&&(alert("Quick reservation added!"),e.choosen=!1,e.seatChosen=!1)})}}},x=P,N=(a("8fd2"),Object(m["a"])(x,k,w,!1,null,null,null)),E=N.exports,T=a("28e4"),I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"flightCompanyReport"}},[a("br"),a("div",{staticClass:"reports"},[a("button",{staticClass:"btn-primary space",on:{click:function(e){return t.selected(0)}}},[t._v("Flights")]),a("button",{staticClass:"btn-primary space",on:{click:function(e){return t.selected(1)}}},[t._v("Rating")]),a("button",{staticClass:"btn-primary space",on:{click:function(e){return t.selected(2)}}},[t._v("Sold Tickets")]),a("button",{staticClass:"btn-primary space",on:{click:function(e){return t.selected(3)}}},[t._v("Earnings")])]),a("br"),a("br"),0==t.tabSelected?a("div",{staticClass:"container"},[a("table",{staticClass:"table",attrs:{border:"1"}},[t._m(0),a("tbody",t._l(t.flights,function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(e.startDestination))]),a("td",[t._v(t._s(e.endDestination))]),a("td",[t._v(t._s(e.startDate_str))]),a("td",[t._v(t._s(e.endDate_str))]),a("td",[t._v(t._s(e.flightDuration))]),a("td",[t._v(t._s(e.flightLength))]),a("td",[t._v(t._s(e.economicPrice))]),a("td",[t._v(t._s(e.businessPrice))]),a("td",[t._v(t._s(e.firstClassPrice))]),a("td",{staticStyle:{"font-weight":"bold"}},[t._v(" "+t._s(e.rate))])])}),0)])]):t._e(),a("div",{attrs:{id:"Ratings"}},[a("h2",[t._v("Average rate for Flight Company: "+t._s(t.averageRate))]),a("br"),a("div",{staticClass:"centered",attrs:{id:"ratingsCanvasArea"}},[a("canvas",{ref:"referencedElement",staticStyle:{responsive:"true"},attrs:{id:"myChart"}})])]),a("div",{staticClass:"row",attrs:{id:"SoldTickets"}},[a("div",{staticClass:"reports"},[a("form",{on:{submit:t.onSubmitSoldTickets}},[a("table",{staticClass:"centered",staticStyle:{"text-align":"left"}},[a("tr",[a("td",[t._v("From:")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dateFrom,expression:"dateFrom"}],attrs:{type:"date"},domProps:{value:t.dateFrom},on:{input:function(e){e.target.composing||(t.dateFrom=e.target.value)}}})])]),a("tr",[a("td",[t._v("To:")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dateTo,expression:"dateTo"}],attrs:{type:"date"},domProps:{value:t.dateTo},on:{input:function(e){e.target.composing||(t.dateTo=e.target.value)}}})])]),a("tr",{staticStyle:{"text-align":"center"}},[a("td",[a("div",{staticClass:"custom-control custom-radio custom-control-inline"},[a("input",{staticClass:"custom-control-input",attrs:{type:"radio",id:"eco",checked:"",name:"inlineDefaultRadiosExample"},on:{click:function(e){return t.checkedClassTicket("daily")}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"eco"}},[t._v("Daily")])])]),a("td",[a("div",{staticClass:"custom-control custom-radio custom-control-inline"},[a("input",{staticClass:"custom-control-input",attrs:{type:"radio",id:"bus",name:"inlineDefaultRadiosExample"},on:{click:function(e){return t.checkedClassTicket("weekly")}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"bus"}},[t._v("Weekly")])])]),a("td",[a("div",{staticClass:"custom-control custom-radio custom-control-inline"},[a("input",{staticClass:"custom-control-input",attrs:{type:"radio",id:"first",name:"inlineDefaultRadiosExample"},on:{click:function(e){return t.checkedClassTicket("monthly")}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"first"}},[t._v("Monthly")])])])]),t._m(1)])]),a("br")]),a("div",{staticClass:"row",attrs:{id:"ticketCanvasArea"}},[a("canvas",{ref:"referencedElement",staticStyle:{responsive:"true"},attrs:{id:"soldTicketsChart"}})])]),a("div",{staticClass:"reports",attrs:{id:"Earnings"}},[a("form",{on:{submit:t.earningsReport}},[a("table",{staticClass:"centered",staticStyle:{"text-align":"left"}},[a("tr",[a("td",[t._v("From:")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dateFrom,expression:"dateFrom"}],attrs:{type:"date",required:""},domProps:{value:t.dateFrom},on:{input:function(e){e.target.composing||(t.dateFrom=e.target.value)}}})])]),a("tr",[a("td",[t._v("To:")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dateTo,expression:"dateTo"}],attrs:{type:"date",required:""},domProps:{value:t.dateTo},on:{input:function(e){e.target.composing||(t.dateTo=e.target.value)}}})])]),t._m(2)])]),a("br"),t.earningsVisible?a("div",[a("h2",[t._v("Incomes from given period = "+t._s(this.earnings))])]):t._e()])])},S=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("Start destination")]),a("th",{attrs:{scope:"col"}},[t._v("End destination")]),a("th",{attrs:{scope:"col"}},[t._v("Start date")]),a("th",{attrs:{scope:"col"}},[t._v("End date")]),a("th",{attrs:{scope:"col"}},[t._v("Flight Duration")]),a("th",{attrs:{scope:"col"}},[t._v("Flight Length")]),a("th",{attrs:{scope:"col"}},[t._v("Economic price")]),a("th",{attrs:{scope:"col"}},[t._v("Business price")]),a("th",{attrs:{scope:"col"}},[t._v("First class price")]),a("th",[t._v("Rate")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",[a("input",{attrs:{type:"submit",value:"Apply"}})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",[a("input",{attrs:{type:"submit",value:"Apply"}})])])}],F=a("30ef"),R=a.n(F),B={name:"flightCompanyReport",data:function(){return{tabSelected:0,flights:[],dataForCompanyRates:[],dataSoldTickets:[],averageRate:0,dateFrom:"",dateTo:"",earnings:0,earningsVisible:!1,reportKindTickets:"daily"}},mounted:function(){var t=this,e=function(){return localStorage.getItem("jwtToken")};c.a.defaults.headers.common["Authorization"]="Bearer "+e(),c.a.get("/api/getFlightsRate").then(function(e){t.flights=e.data}),c.a.defaults.headers.common["Authorization"]="Bearer "+e(),c.a.get("/api/getCompanyAverageRate").then(function(e){t.dataForCompanyRates=e.data}),document.getElementById("Ratings").hidden=!0,document.getElementById("SoldTickets").hidden=!0,document.getElementById("Earnings").hidden=!0},methods:{selected:function(t){this.tabSelected=t,1==this.tabSelected?(document.getElementById("SoldTickets").hidden=!0,document.getElementById("Earnings").hidden=!0,document.getElementById("Ratings").hidden=!1,this.flightCompanyRate()):2==this.tabSelected?(document.getElementById("Ratings").hidden=!0,document.getElementById("Earnings").hidden=!0,document.getElementById("SoldTickets").hidden=!1):3==this.tabSelected?(document.getElementById("Earnings").hidden=!1,document.getElementById("Ratings").hidden=!0,document.getElementById("SoldTickets").hidden=!0):(document.getElementById("SoldTickets").hidden=!0,document.getElementById("Ratings").hidden=!0,document.getElementById("Earnings").hidden=!0)},flightCompanyRate:function(){var t,e=0,a=0;for(t=0;t<this.dataForCompanyRates.length;t++)e+=(t+1)*this.dataForCompanyRates[t],a+=this.dataForCompanyRates[t];this.averageRate=e/a;var s=document.getElementById("myChart").getContext("2d");new R.a(s,{type:"bar",data:{labels:["1","2","3","4","5"],datasets:[{label:"# of Votes",data:this.dataForCompanyRates,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]},options:{scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}})},onSubmitSoldTickets:function(t){var e=this;t.preventDefault(),console.log(localStorage.getItem("jwtToken")),c.a.defaults.headers.common["Authorization"]="Bearer "+localStorage.getItem("jwtToken"),c.a.post("/api/getSoldTicketReport",{dateFrom:this.dateFrom,dateTo:this.dateTo,kind:this.reportKindTickets}).then(function(t){e.dataSoldTickets=t.data,e.soldTicketReport()})},soldTicketReport:function(){document.getElementById("soldTicketsChart").remove(),document.getElementById("ticketCanvasArea").innerHTML='<canvas ref="referencedElement" id="soldTicketsChart" style="responsive:true;"><canvas>';var t=document.getElementById("soldTicketsChart").getContext("2d");new R.a(t,{type:"bar",data:{labels:this.dataSoldTickets.labels,datasets:[{label:"# of sold tickets",data:this.dataSoldTickets.data,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]},options:{scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}})},earningsReport:function(t){var e=this;t.preventDefault();var a=function(){return localStorage.getItem("jwtToken")};c.a.defaults.headers.common["Authorization"]="Bearer "+a(),c.a.post("/api/getEarningsReport",{dateFrom:this.dateFrom,dateTo:this.dateTo}).then(function(t){e.earnings=t.data,e.earningsVisible=!0})},checkedClassTicket:function(t){this.reportKindTickets=t}}},A=B,L=(a("9196"),Object(m["a"])(A,I,S,!1,null,null,null)),q=L.exports,j=a("9d8d"),M={name:"flightAdmin",components:{userProfile:n["default"],flightCompanyProfile:C["default"],allFlights:D["a"],newFlight:v,destinations:y,addQuickReservation:E,quickReservations:T["a"],flightCompanyReport:q,navbar:j["a"]},data:function(){return{laguageInfo:"",seatsInfo:"",currentTab:2}},mounted:function(){var t=this,e=function(){return localStorage.getItem("jwtToken")};c.a.defaults.headers.common["Authorization"]="Bearer "+e(),c.a.get("/api/getFlightCompanyProfile").then(function(e){t.seatsInfo=e.data.seatsInfo,t.laguageInfo=e.data.laguageInfo})},methods:{selectTab:function(t){document.getElementById("companyProfile").className="nav-item nav-link",document.getElementById("flights").className="nav-item nav-link",document.getElementById("newFlight").className="nav-item nav-link",document.getElementById("destinations").className="nav-item nav-link",document.getElementById("quickTickets").className="nav-item nav-link",document.getElementById("addQuickTicket").className="nav-item nav-link",document.getElementById("reports").className="nav-item nav-link",2==t?document.getElementById("companyProfile").className="nav-item nav-link active":3==t?document.getElementById("flights").className="nav-item nav-link active":4==t?document.getElementById("newFlight").className="nav-item nav-link active":5==t?document.getElementById("destinations").className="nav-item nav-link active":6==t?document.getElementById("quickTickets").className="nav-item nav-link active":7==t?document.getElementById("addQuickTicket").className="nav-item nav-link active":8==t&&(document.getElementById("reports").className="nav-item nav-link active"),this.currentTab=t},updateFlightCompanyInfo:function(t){var e=this;t.preventDefault();var a=function(){return localStorage.getItem("jwtToken")};c.a.defaults.headers.post["Authorization"]="Bearer "+a(),c.a.post("/api/updateFlightCompanyInfo",{seatsInfo:this.seatsInfo,laguageInfo:this.laguageInfo}).then(function(t){null!=t.data&&(e.seatsInfo=t.data.seatsInfo,e.laguageInfo=t.data.laguageInfo,alert("success"))})}}},z=M,$=(a("0d19"),Object(m["a"])(z,s,i,!1,null,null,null));e["default"]=$.exports},"403e":function(t,e,a){"use strict";var s=a("4774"),i=a.n(s);i.a},4774:function(t,e,a){},"4c81":function(t,e,a){},5524:function(t,e,a){"use strict";var s=a("55a1"),i=a.n(s);i.a},"55a1":function(t,e,a){},7080:function(t,e,a){},7315:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"userProfile"}},[a("navbar",{attrs:{itype:"1"}}),a("div",{staticClass:"profile"},[a("br"),a("br"),a("h2",[t._v(" Your profile: ")]),a("br"),a("div",{staticClass:"container"},[a("table",{staticClass:"centered",staticStyle:{"text-align":"left"}},[a("tr",[a("td",[t._v(" First name: ")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.firstName,expression:"firstName"}],attrs:{type:"text",name:"firstName"},domProps:{value:t.firstName},on:{input:function(e){e.target.composing||(t.firstName=e.target.value)}}})])]),a("tr",[a("td",[t._v(" Last name: ")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.lastName,expression:"lastName"}],attrs:{type:"text",name:"lastName"},domProps:{value:t.lastName},on:{input:function(e){e.target.composing||(t.lastName=e.target.value)}}})])]),a("tr",[a("td",[t._v(" Email: ")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"text",name:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})])]),t.isRegistered?a("tr",[a("td",[t._v(" City: ")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.city,expression:"city"}],attrs:{type:"text",name:"city"},domProps:{value:t.city},on:{input:function(e){e.target.composing||(t.city=e.target.value)}}})])]):t._e(),t.isRegistered?a("tr",[a("td",[t._v(" Phone: ")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],attrs:{type:"text",name:"phone"},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}})])]):t._e(),a("tr",[a("td",[t._v(" Password: ")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",name:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])]),a("tr",[a("td",[t._v(" Confirm password: ")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.repeatedPassword,expression:"repeatedPassword"}],attrs:{name:"password"},domProps:{value:t.repeatedPassword},on:{input:function(e){e.target.composing||(t.repeatedPassword=e.target.value)}}})])]),a("tr",[a("td"),a("td",[a("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.updateUserProfile(t.password,t.repeatedPassword)}}},[t._v("Edit")])])])])])])],1)},i=[],n=a("9d8d"),o=a("bc3a"),r=a.n(o),l={name:"userProfile",components:{navbar:n["a"]},data:function(){return{firstName:"",lastName:"",email:"",password:"",repeatedPassword:"",city:"",phone:"",isRegistered:!1}},mounted:function(){var t=this,e=function(){return localStorage.getItem("jwtToken")};r.a.defaults.headers.common["Authorization"]="Bearer "+e(),r.a.get("/api/getLogUser").then(function(e){t.firstName=e.data.firstName,t.lastName=e.data.lastName,t.email=e.data.email,t.city=e.data.city,t.phone=e.data.phone}).catch(function(t){t.response&&console.log(t.response.data)}),r.a.get("/api/getUserRole").then(function(e){"REGISTERED"==e.data?t.isRegistered=!0:t.isRegistered=!1}).catch(function(t){t.response&&console.log(t.response.data)})},methods:{updateUserProfile:function(t,e){var a=this;if(t==e){var s=function(){return localStorage.getItem("jwtToken")};r.a.defaults.headers.common["Authorization"]="Bearer "+s(),r.a.post("/api/updateUserProfile",{firstName:this.firstName,lastName:this.lastName,email:this.email,password:this.password,repeatedPass:this.password,city:this.city,phone:this.phone}).then(function(t){a.firstName=t.data.firstName,a.lastName=t.data.lastName,a.email=t.data.email,a.city=t.data.city,a.phone=t.data.phone}),alert("Your profile has been successfuly updated!")}else alert("Not valid confirmation of the password!")}}},c=l,d=(a("5524"),a("2877")),u=Object(d["a"])(c,s,i,!1,null,null,null);e["default"]=u.exports},"83d2":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"allFlights"}},[a("br"),a("br"),a("br"),a("div",{staticClass:"centered"},[a("table",{staticStyle:{"text-align":"left","margin-left":"30%"}},[a("tr",[a("td",[t._v("Transitions:")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.transitionsNum,expression:"transitionsNum"}],attrs:{type:"number",placeholder:"MaxNum of transitions"},domProps:{value:t.transitionsNum},on:{input:function(e){e.target.composing||(t.transitionsNum=e.target.value)}}})])]),a("tr",[a("td",[t._v("Start destination:")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.startDestination,expression:"startDestination"}],attrs:{type:"text"},domProps:{value:t.startDestination},on:{input:function(e){e.target.composing||(t.startDestination=e.target.value)}}})])]),a("tr",[a("td",[t._v("End destination:")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.endDestination,expression:"endDestination"}],attrs:{type:"text"},domProps:{value:t.endDestination},on:{input:function(e){e.target.composing||(t.endDestination=e.target.value)}}})])]),a("tr",[a("td",[t._v("Depart time:")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.startDate,expression:"startDate"}],attrs:{type:"date"},domProps:{value:t.startDate},on:{input:function(e){e.target.composing||(t.startDate=e.target.value)}}})])]),a("tr",[a("td",[t._v("Return time:")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.endDate,expression:"endDate"}],attrs:{type:"date"},domProps:{value:t.endDate},on:{input:function(e){e.target.composing||(t.endDate=e.target.value)}}})])]),a("tr",[a("td",[t._v("Min price:")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.MinPrice,expression:"MinPrice"}],attrs:{type:"number"},domProps:{value:t.MinPrice},on:{input:function(e){e.target.composing||(t.MinPrice=e.target.value)}}})])]),a("tr",[a("td",[t._v("Max price:")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.MaxPrice,expression:"MaxPrice"}],attrs:{type:"number"},domProps:{value:t.MaxPrice},on:{input:function(e){e.target.composing||(t.MaxPrice=e.target.value)}}})])]),a("tr",{staticStyle:{"text-align":"center"}},[a("td",[a("div",{staticClass:"custom-control custom-radio custom-control-inline"},[a("input",{staticClass:"custom-control-input",attrs:{type:"radio",id:"eco",checked:"",name:"inlineDefaultRadiosExample"},on:{click:function(e){return t.checkedClass(1)}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"eco"}},[t._v("Economic class")])])]),a("td",[a("div",{staticClass:"custom-control custom-radio custom-control-inline"},[a("input",{staticClass:"custom-control-input",attrs:{type:"radio",id:"bus",name:"inlineDefaultRadiosExample"},on:{click:function(e){return t.checkedClass(2)}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"bus"}},[t._v("Business class")])])]),a("td",[a("div",{staticClass:"custom-control custom-radio custom-control-inline"},[a("input",{staticClass:"custom-control-input",attrs:{type:"radio",id:"first",name:"inlineDefaultRadiosExample"},on:{click:function(e){return t.checkedClass(3)}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"first"}},[t._v("First class")])])])]),a("tr",[a("td",[a("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.search()}}},[t._v("Search")])])])])]),a("div",{staticClass:"quickContainer"},[a("br"),a("br"),a("h2",[t._v("All Flights: ")]),a("br"),a("table",{staticClass:"table table-hover",attrs:{border:"1"}},[a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("Start destination")]),a("th",{attrs:{scope:"col"}},[t._v("End destination")]),a("th",{attrs:{scope:"col"}},[t._v("Start date")]),a("th",{attrs:{scope:"col"}},[t._v("End date")]),a("th",{attrs:{scope:"col"}},[t._v("Flight Duration")]),a("th",{attrs:{scope:"col"}},[t._v("Flight Length")]),a("th",{attrs:{scope:"col"}},[t._v("Economic price")]),a("th",{attrs:{scope:"col"}},[t._v("Business price")]),a("th",{attrs:{scope:"col"}},[t._v("First class price")]),a("th"),"FLIGHT_ADMIN"==t.role?a("th"):t._e()])]),a("tbody",t._l(t.flights,function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(e.startDestination))]),a("td",[t._v(t._s(e.endDestination))]),a("td",[t._v(t._s(e.startDate_str))]),a("td",[t._v(t._s(e.endDate_str))]),a("td",[t._v(t._s(e.flightDuration))]),a("td",[t._v(t._s(e.flightLength))]),a("td",[t._v(t._s(e.economicPrice))]),a("td",[t._v(t._s(e.businessPrice))]),a("td",[t._v(t._s(e.firstClassPrice))]),"FLIGHT_ADMIN"==t.role?a("td",[a("Button",{staticClass:"btn btn-outline-primary",on:{click:function(a){return t.goToDetails(e.id)}}},[t._v("Details")])],1):t._e(),"FLIGHT_ADMIN"==t.role?a("td",[a("button",{staticClass:"btn btn-outline-primary",on:{click:function(a){return t.removeFlight(e,s)}}},[t._v("Delete")])]):t._e(),"REGISTERED"==t.role?a("td",[a("button",{staticClass:"btn btn-outline-primary",on:{click:function(a){return t.goToDetailsForReservation(e.id)}}},[t._v("Details")])]):t._e()])}),0)])])])},i=[],n=a("bc3a"),o=a.n(n),r={name:"allFlights",components:{},props:["idCompany"],data:function(){return{role:"",startDestination:"",endDestination:"",startDate:"",endDate:"",flightDuration:"",flightLength:"",MinPrice:"",MaxPrice:"",check:1,flights:[],transitionsNum:""}},created:function(){var t=this,e=function(){return localStorage.getItem("jwtToken")};o.a.defaults.headers.common["Authorization"]="Bearer "+e(),o.a.get("/api/getUserRole").then(function(e){t.role=e.data,"FLIGHT_ADMIN"==e.data?o.a.get("/api/getFlights").then(function(e){t.flights=e.data}):"REGISTERED"==e.data&&o.a.get("/api/getFlightsCompany/"+t.idCompany).then(function(e){t.flights=e.data})})},mounted:function(){},methods:{checkedClass:function(t){this.check=t},search:function(){var t=this,e=0,a=0,s=0,i=0,n=0,r=0;1==this.check&&(e=this.MinPrice,a=this.MaxPrice),2==this.check&&(s=this.MinPrice,i=this.MaxPrice),3==this.check&&(n=this.MinPrice,r=this.MaxPrice);var l={startDestination:this.startDestination,endDestination:this.endDestination,startDate:this.startDate,endDate:this.endDate,minEconomic:e,minBusiness:s,minFirstClass:n,maxEconomic:a,maxBusiness:i,maxFirstClass:r,flightDuration:this.flightDuration,flightLength:this.flightLength,companyId:-1,transitionsNum:this.transitionsNum},c=function(){return localStorage.getItem("jwtToken")};"REGISTERED"==this.role&&(l.companyId=this.idCompany),o.a.defaults.headers.common["Authorization"]="Bearer "+c(),o.a.post("/api/flightsInCompany",l).then(function(e){t.flights=e.data})},goToDetails:function(t){localStorage.setItem("flightID",t),window.location="/front/flightForAdmin"},goToDetailsForReservation:function(t){localStorage.setItem("flightID",t),window.location="/front/flight"},removeFlight:function(t,e){var a=this,s=function(){return localStorage.getItem("jwtToken")};o.a.defaults.headers.common["Authorization"]="Bearer "+s(),o.a.get("/api/removeFlight/"+t.id).then(function(t){"success"==t.data?(a.flights.splice(e,1),alert("Flight is removed.")):alert(t.data)})}}},l=r,c=(a("9861"),a("2877")),d=Object(c["a"])(l,s,i,!1,null,null,null);e["a"]=d.exports},"8fd2":function(t,e,a){"use strict";var s=a("4c81"),i=a.n(s);i.a},9196:function(t,e,a){"use strict";var s=a("c45f"),i=a.n(s);i.a},9861:function(t,e,a){"use strict";var s=a("7080"),i=a.n(s);i.a},a904:function(t,e,a){},b438:function(t,e,a){"use strict";var s=a("1d57"),i=a.n(s);i.a},c45f:function(t,e,a){},c941:function(t,e,a){},d504:function(t,e,a){},dfc6:function(t,e,a){"use strict";var s=a("a904"),i=a.n(s);i.a},e6c6:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"flightCompanyProfile"}},[a("div",{staticClass:"companyProfile"},[a("br"),a("br"),a("h2",[t._v(" Company information: ")]),a("br"),a("div",{staticClass:"centered"},[a("table",{staticClass:"centered",staticStyle:{"text-align":"left"}},[a("tr",[a("td",[t._v(" Name: ")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text",name:"name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})])]),a("tr",[a("td",[t._v(" Address: ")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.address,expression:"address"}],attrs:{type:"text",name:"address"},domProps:{value:t.address},on:{input:function(e){e.target.composing||(t.address=e.target.value)}}})])]),a("tr",[a("td",[t._v(" Description: ")]),a("td",[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticStyle:{overflow:"scroll"},attrs:{rows:"5",cols:"22",name:"description"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})])]),a("tr",[a("td"),a("td",[a("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.updateFlightCompanyProfile()}}},[t._v("Edit")])])])])])])])},i=[],n=(a("7f7f"),a("bc3a")),o=a.n(n),r={name:"flightCompanyProfile",components:{},data:function(){return{name:"",address:"",description:""}},mounted:function(){var t=this,e=function(){return localStorage.getItem("jwtToken")};o.a.defaults.headers.common["Authorization"]="Bearer "+e(),o.a.get("/api/getFlightCompanyProfile").then(function(e){t.name=e.data.name,t.address=e.data.address,t.description=e.data.description})},methods:{updateFlightCompanyProfile:function(){var t=this,e=function(){return localStorage.getItem("jwtToken")};o.a.defaults.headers.post["Authorization"]="Bearer "+e(),o.a.post("/api/updateFlightCompanyProfile",{name:this.name,address:this.address,description:this.description}).then(function(e){t.name=e.data.name,t.address=e.data.address,t.description=e.data.description}),alert("Successfuly updated!")}}},l=r,c=(a("403e"),a("2877")),d=Object(c["a"])(l,s,i,!1,null,null,null);e["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2e2aa22c.bb024965.js.map