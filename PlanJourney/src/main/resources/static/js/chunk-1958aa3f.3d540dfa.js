(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1958aa3f"],{"0f44":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"loginPage"}},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-9 col-md-7 col-lg-5 mx-auto blue-border"},[a("div",{staticClass:"card card-signin my-5"},[a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-title text-center"},[t._v("Login")]),a("form",{staticClass:"form-signin"},[a("div",{staticClass:"form-label-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control",attrs:{id:"inputEmail",placeholder:"Username",required:"",autofocus:""},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),a("label",{attrs:{for:"inputEmail"}},[t._v("Username")])]),a("div",{staticClass:"form-label-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"inputPassword",placeholder:"Password",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),a("label",{attrs:{for:"inputPassword"}},[t._v("Password")])]),a("button",{staticClass:"btn btn-lg btn-primary btn-block text-uppercase",attrs:{type:"submit"},on:{click:t.login}},[t._v("Log in")]),a("button",{staticClass:"btn btn-lg btn-warning btn-block text-uppercase",on:{click:t.goBack}},[t._v("Back")])])])])])])])])},n=[],r=(a("f559"),a("bc3a")),s=a.n(r),i={name:"loginPage",props:["requestId"],data:function(){return{username:"",password:""}},methods:{goBack:function(t){t.preventDefault(),console.log("clicked"),window.location.href="/"},login:function(t){var e=this;t.preventDefault(),""!=this.username&&""!=this.password?s.a.post("/auth/login",{username:this.username,password:this.password}).then(function(t){console.log(t),200==t.status?(console.log(t.data.accessToken),localStorage.setItem("jwtToken",t.data.accessToken),"NOT CONFIRMED"==t.data?(alert("Account not confirmed"),window.location="./"):e.checkFirstLogin()):alert("Wrong username or password")}):alert("All fields must be filled")},checkFirstLogin:function(){var t=this,e=function(){return localStorage.getItem("jwtToken")};s.a.defaults.headers.common["Authorization"]="Bearer "+e(),s.a.get("/api/getFirstLogged").then(function(e){console.log(e),"NOT"==e.data?window.location="/front/FirstLogin":t.getRole()})},getRole:function(){var t=this;console.log("GET ROLE");var e=function(){return localStorage.getItem("jwtToken")};s.a.defaults.headers.common["Authorization"]="Bearer "+e(),s.a.get("/api/getUserRole").then(function(e){console.log(e),"RENT_ADMIN"==e.data?t.$router.push("front/RAindex"):"FLIGHT_ADMIN"==e.data?t.$router.push("front/flightAdmin"):"SYS_ADMIN"==e.data?t.$router.push("front/systemAdminPage"):"REGISTERED"==e.data?window.location.pathname.startsWith("/front/confirmationPage")?t.$emit("currentDiv",2):t.$router.push("front/index"):"HOTEL_ADMIN"==e.data?t.$router.push("front/hotelAdminPage"):t.$router.push("/")})}}},c=i,l=(a("917f"),a("2877")),u=Object(l["a"])(c,o,n,!1,null,"3104f954",null);e["default"]=u.exports},5147:function(t,e,a){var o=a("2b4c")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(a){try{return e[o]=!1,!"/./"[t](e)}catch(n){}}return!0}},"917f":function(t,e,a){"use strict";var o=a("d479"),n=a.n(o);n.a},aae3:function(t,e,a){var o=a("d3f4"),n=a("2d95"),r=a("2b4c")("match");t.exports=function(t){var e;return o(t)&&(void 0!==(e=t[r])?!!e:"RegExp"==n(t))}},d2c8:function(t,e,a){var o=a("aae3"),n=a("be13");t.exports=function(t,e,a){if(o(e))throw TypeError("String#"+a+" doesn't accept regex!");return String(n(t))}},d479:function(t,e,a){},f559:function(t,e,a){"use strict";var o=a("5ca1"),n=a("9def"),r=a("d2c8"),s="startsWith",i=""[s];o(o.P+o.F*a("5147")(s),"String",{startsWith:function(t){var e=r(this,t,s),a=n(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),o=String(t);return i?i.call(e,o,a):e.slice(a,a+o.length)===o}})}}]);
//# sourceMappingURL=chunk-1958aa3f.3d540dfa.js.map