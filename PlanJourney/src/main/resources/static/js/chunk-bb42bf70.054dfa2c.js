(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bb42bf70"],{"0f52":function(t,e,a){"use strict";var n=a("c941"),i=a.n(n);i.a},"28e4":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"allFlights"}},[a("div",{staticClass:"quickContainer"},[a("br"),a("br"),a("br"),a("h2",[t._v("Quick Tickets: ")]),a("br"),a("table",{staticClass:"table",attrs:{border:"1"}},[t._m(0),a("tbody",t._l(t.quickReservations,function(e,n){return a("tr",{key:n},[a("td",[t._v(t._s(e.startDestination))]),a("td",[t._v(t._s(e.endDestination))]),a("td",[t._v(t._s(e.startDate))]),a("td",[t._v(t._s(e.endDate))]),a("td",[t._v(t._s(e.travelClass)+" ("+t._s(e.seatRow)+","+t._s(e.seatColumn)+")")]),a("td",[t._v(t._s(e.originPrice))]),a("td",[t._v(t._s(e.discount))]),"FLIGHT_ADMIN"==t.role&&0==e.taken?a("td",[a("Button",{staticClass:"btn btn-outline-primary",on:{click:function(a){return t.remove(e.id,n)}}},[t._v("Delete")])],1):t._e(),"FLIGHT_ADMIN"==t.role&&1==e.taken?a("td",{staticStyle:{color:"green","font-weight":"bold"}},[t._v(" Reserved")]):t._e(),"REGISTERED"==t.role&&0==e.taken?a("td",{on:{click:function(a){return t.bookQuickTicket(e)}}},[a("Button",{staticClass:"btn btn-outline-primary"},[t._v("Reserve")])],1):t._e(),"REGISTERED"==t.role&&1==e.taken?a("td",{staticStyle:{color:"green","font-weight":"bold"},on:{click:function(a){return t.bookQuickTicket(e)}}},[t._v(" Reserved")]):t._e()])}),0)])])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("Start destination")]),a("th",{attrs:{scope:"col"}},[t._v("End destination")]),a("th",{attrs:{scope:"col"}},[t._v("Start date")]),a("th",{attrs:{scope:"col"}},[t._v("End date")]),a("th",{attrs:{scope:"col"}},[t._v("Seat")]),a("th",{attrs:{scope:"col"}},[t._v("Origin price")]),a("th",{attrs:{scope:"col"}},[t._v("Discount")]),a("th")])])}],s=a("bc3a"),o=a.n(s),r={name:"allFlights",components:{},props:["idCompany"],data:function(){return{role:"",quickReservations:[]}},mounted:function(){var t=this,e=function(){return localStorage.getItem("jwtToken")};o.a.defaults.headers.common["Authorization"]="Bearer "+e(),o.a.get("/api/getUserRole").then(function(e){t.role=e.data,"FLIGHT_ADMIN"==e.data?o.a.get("/api/getQuickReservations").then(function(e){t.quickReservations=e.data}):"REGISTERED"==e.data&&o.a.get("/api/getQuickReservationsCompany/"+t.idCompany).then(function(e){t.quickReservations=e.data})})},methods:{bookQuickTicket:function(t){if(1!=t.taken){var e={id:t.id,flightId:t.flightId,seatId:t.seatId,originPrice:t.originPrice,discount:t.discount};o.a.post("/api/makeQuickReservation",e).then(function(e){"success"==e.data?alert("Reservation was successful! You will get e-mail about it."):alert(e.data),t.taken=!0})}else alert("Sorry, it's already taken!")},remove:function(t,e){var a=this;alert(t);var n=function(){return localStorage.getItem("jwtToken")};o.a.defaults.headers.common["Authorization"]="Bearer "+n(),o.a.get("/api/removeQuickFlightReservation/"+t).then(function(t){alert(t.data),a.quickReservations.splice(e,1)})}}},c=r,l=(a("0f52"),a("2877")),d=Object(l["a"])(c,n,i,!1,null,null,null);e["a"]=d.exports},"307b":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"CompanyProfile"}},[n("navbar"),n("h1",[t._v(t._s(t.company.name))]),n("br"),n("div",{staticClass:"centered",staticStyle:{"margin-left":"8.4%","margin-right":"8.4%"}},[n("nav",[n("div",{staticClass:"nav nav-tabs nav-fill",attrs:{id:"nav-tab",role:"tablist"}},[n("a",{staticClass:"nav-item nav-link active",attrs:{id:"info","data-toggle":"tab",role:"tab","aria-controls":"nav-profile","aria-selected":"false"},on:{click:function(e){return t.selectTab(3)}}},[t._v("Information")]),n("a",{staticClass:"nav-item nav-link",attrs:{id:"flights","data-toggle":"tab",role:"tab","aria-controls":"nav-home","aria-selected":"true"},on:{click:function(e){return t.selectTab(1)}}},[t._v("Flights")]),n("a",{staticClass:"nav-item nav-link",attrs:{id:"quick","data-toggle":"tab",role:"tab","aria-controls":"nav-profile","aria-selected":"false"},on:{click:function(e){return t.selectTab(2)}}},[t._v("Quick Reservations")])])])]),n("div",{staticClass:"tab-content py-3 px-3 px-sm-0 container",staticStyle:{"min-height":"650px"},attrs:{id:"nav-tabContent"}},[1==t.currentTab?n("div",[n("allFlights",{attrs:{idCompany:this.companyId}})],1):t._e(),2==t.currentTab?n("div",{staticClass:"centered col-lg-10",attrs:{id:"quickReservations",role:"tabpanel","aria-labelledby":"quick"}},[n("quickReservations",{attrs:{idCompany:this.companyId}})],1):t._e(),3==t.currentTab?n("div",{staticClass:"centered col-lg-10",attrs:{id:"info",role:"tabpanel","aria-labelledby":"info"}},[n("br"),n("br"),n("div",{staticClass:"row",staticStyle:{width:"1100px"}},[n("div",{staticClass:"span4",staticStyle:{width:"100%"}},[n("img",{staticClass:"rounded float-right",staticStyle:{height:"350px",width:"400px"},attrs:{src:a("5c2d")}}),n("div",{staticClass:"content-heading"},[n("h1",[t._v("Rating: "+t._s(t.company.rating))])]),n("p",[t._v("Address: "+t._s(t.company.address))]),n("br"),n("p",{staticStyle:{"text-align":"justify","padding-left":"2%","padding-right":"40%"}},[t._v(t._s(t.company.description))]),n("p",{staticStyle:{"text-align":"justify","padding-left":"2%","padding-right":"40%"}},[t._v(t._s(t.company.laguageInfo))]),n("p",{staticStyle:{"text-align":"justify","padding-left":"2%","padding-right":"40%"}},[t._v(t._s(t.company.seatsInfo))])])]),n("br"),n("h1",[t._v("Airports")]),n("br"),n("div",{staticClass:"row"},[n("table",{staticClass:"table table-hover col",staticStyle:{width:"1000px"},attrs:{border:"1"}},[t._m(0),t._l(t.company.airports,function(e){return n("tr",{key:e.id,on:{click:function(a){return t.showOnMap(e.longitude,e.latitude)}}},[n("td",[t._v(t._s(e.cityName))]),n("td",[t._v(t._s(e.name))]),n("td",[t._v(t._s(e.address))]),n("td",[t._v(t._s(e.description))]),n("td",[t._v(" "+t._s(e.latitude)+", "+t._s(e.longitude)+" ")])])})],2),n("div",{staticClass:"col-2"},[n("yandex-map",{staticStyle:{width:"320px",height:"280px"},attrs:{coords:[this.latitude,this.longitude],zoom:"14",controlss:["zoomControl"],"map-type":"hybrid"}},[n("ymap-marker",{attrs:{"marker-id":"1","marker-type":"placemark",coords:[this.latitude,this.longitude],"marker-fill":{color:"#0E4779",opacity:.5},"marker-stroke":{color:"#0E4779",width:4}}})],1)],1)])]):t._e()])],1)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("City")]),a("th",{attrs:{scope:"col"}},[t._v("Name")]),a("th",{attrs:{scope:"col"}},[t._v("Address")]),a("th",{attrs:{scope:"col"}},[t._v("Description")]),a("th",{attrs:{scope:"col"}},[t._v("Coordinates")])])])}],s=a("83d2"),o=a("28e4"),r=a("9d8d"),c=a("bc3a"),l=a.n(c),d={name:"CompanyProfile",components:{allFlights:s["a"],quickReservations:o["a"],navbar:r["a"]},data:function(){return{companyId:0,company:{},currentTab:3,longitude:0,latitude:0}},created:function(){var t=this;this.companyId=localStorage.getItem("idCompany");var e=function(){return localStorage.getItem("jwtToken")};l.a.defaults.headers.common["Authorization"]="Bearer "+e(),l.a.get("/api/getFlightCompanyProfileRegitered/"+this.companyId).then(function(e){t.company=e.data})},methods:{selectTab:function(t){1==t?(document.getElementById("flights").className="nav-item nav-link active",document.getElementById("quick").className="nav-item nav-link",document.getElementById("info").className="nav-item nav-link"):2==t?(document.getElementById("quick").className="nav-item nav-link active",document.getElementById("flights").className="nav-item nav-link",document.getElementById("info").className="nav-item nav-link"):3==t&&(document.getElementById("info").className="nav-item nav-link active",document.getElementById("quick").className="nav-item nav-link",document.getElementById("flights").className="nav-item nav-link"),this.currentTab=t},showOnMap:function(t,e){this.latitude=e,this.longitude=t}}},u=d,m=(a("f80d"),a("2877")),v=Object(m["a"])(u,n,i,!1,null,null,null);e["default"]=v.exports},"3fa7":function(t,e,a){"use strict";var n=a("e012"),i=a.n(n);i.a},"5c2d":function(t,e,a){t.exports=a.p+"img/flightCompany.8456cee6.jpg"},7080:function(t,e,a){},"83d2":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"allFlights"}},[a("br"),a("br"),a("br"),a("div",{staticClass:"centered"},[a("table",{staticStyle:{"text-align":"left","margin-left":"30%"}},[a("tr",[a("td",[t._v("Transitions:")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.transitionsNum,expression:"transitionsNum"}],attrs:{type:"number",placeholder:"MaxNum of transitions"},domProps:{value:t.transitionsNum},on:{input:function(e){e.target.composing||(t.transitionsNum=e.target.value)}}})])]),a("tr",[a("td",[t._v("Start destination:")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.startDestination,expression:"startDestination"}],attrs:{type:"text"},domProps:{value:t.startDestination},on:{input:function(e){e.target.composing||(t.startDestination=e.target.value)}}})])]),a("tr",[a("td",[t._v("End destination:")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.endDestination,expression:"endDestination"}],attrs:{type:"text"},domProps:{value:t.endDestination},on:{input:function(e){e.target.composing||(t.endDestination=e.target.value)}}})])]),a("tr",[a("td",[t._v("Depart time:")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.startDate,expression:"startDate"}],attrs:{type:"date"},domProps:{value:t.startDate},on:{input:function(e){e.target.composing||(t.startDate=e.target.value)}}})])]),a("tr",[a("td",[t._v("Return time:")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.endDate,expression:"endDate"}],attrs:{type:"date"},domProps:{value:t.endDate},on:{input:function(e){e.target.composing||(t.endDate=e.target.value)}}})])]),a("tr",[a("td",[t._v("Min price:")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.MinPrice,expression:"MinPrice"}],attrs:{type:"number"},domProps:{value:t.MinPrice},on:{input:function(e){e.target.composing||(t.MinPrice=e.target.value)}}})])]),a("tr",[a("td",[t._v("Max price:")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.MaxPrice,expression:"MaxPrice"}],attrs:{type:"number"},domProps:{value:t.MaxPrice},on:{input:function(e){e.target.composing||(t.MaxPrice=e.target.value)}}})])]),a("tr",{staticStyle:{"text-align":"center"}},[a("td",[a("div",{staticClass:"custom-control custom-radio custom-control-inline"},[a("input",{staticClass:"custom-control-input",attrs:{type:"radio",id:"eco",checked:"",name:"inlineDefaultRadiosExample"},on:{click:function(e){return t.checkedClass(1)}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"eco"}},[t._v("Economic class")])])]),a("td",[a("div",{staticClass:"custom-control custom-radio custom-control-inline"},[a("input",{staticClass:"custom-control-input",attrs:{type:"radio",id:"bus",name:"inlineDefaultRadiosExample"},on:{click:function(e){return t.checkedClass(2)}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"bus"}},[t._v("Business class")])])]),a("td",[a("div",{staticClass:"custom-control custom-radio custom-control-inline"},[a("input",{staticClass:"custom-control-input",attrs:{type:"radio",id:"first",name:"inlineDefaultRadiosExample"},on:{click:function(e){return t.checkedClass(3)}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"first"}},[t._v("First class")])])])]),a("tr",[a("td",[a("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.search()}}},[t._v("Search")])])])])]),a("div",{staticClass:"quickContainer"},[a("br"),a("br"),a("h2",[t._v("All Flights: ")]),a("br"),a("table",{staticClass:"table table-hover",attrs:{border:"1"}},[a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("Start destination")]),a("th",{attrs:{scope:"col"}},[t._v("End destination")]),a("th",{attrs:{scope:"col"}},[t._v("Start date")]),a("th",{attrs:{scope:"col"}},[t._v("End date")]),a("th",{attrs:{scope:"col"}},[t._v("Flight Duration")]),a("th",{attrs:{scope:"col"}},[t._v("Flight Length")]),a("th",{attrs:{scope:"col"}},[t._v("Economic price")]),a("th",{attrs:{scope:"col"}},[t._v("Business price")]),a("th",{attrs:{scope:"col"}},[t._v("First class price")]),a("th"),"FLIGHT_ADMIN"==t.role?a("th"):t._e()])]),a("tbody",t._l(t.flights,function(e,n){return a("tr",{key:n},[a("td",[t._v(t._s(e.startDestination))]),a("td",[t._v(t._s(e.endDestination))]),a("td",[t._v(t._s(e.startDate_str))]),a("td",[t._v(t._s(e.endDate_str))]),a("td",[t._v(t._s(e.flightDuration))]),a("td",[t._v(t._s(e.flightLength))]),a("td",[t._v(t._s(e.economicPrice))]),a("td",[t._v(t._s(e.businessPrice))]),a("td",[t._v(t._s(e.firstClassPrice))]),"FLIGHT_ADMIN"==t.role?a("td",[a("Button",{staticClass:"btn btn-outline-primary",on:{click:function(a){return t.goToDetails(e.id)}}},[t._v("Details")])],1):t._e(),"FLIGHT_ADMIN"==t.role?a("td",[a("button",{staticClass:"btn btn-outline-primary",on:{click:function(a){return t.removeFlight(e,n)}}},[t._v("Delete")])]):t._e(),"REGISTERED"==t.role?a("td",[a("button",{staticClass:"btn btn-outline-primary",on:{click:function(a){return t.goToDetailsForReservation(e.id)}}},[t._v("Details")])]):t._e()])}),0)])])])},i=[],s=a("bc3a"),o=a.n(s),r={name:"allFlights",components:{},props:["idCompany"],data:function(){return{role:"",startDestination:"",endDestination:"",startDate:"",endDate:"",flightDuration:"",flightLength:"",MinPrice:"",MaxPrice:"",check:1,flights:[],transitionsNum:""}},created:function(){var t=this,e=function(){return localStorage.getItem("jwtToken")};o.a.defaults.headers.common["Authorization"]="Bearer "+e(),o.a.get("/api/getUserRole").then(function(e){t.role=e.data,"FLIGHT_ADMIN"==e.data?o.a.get("/api/getFlights").then(function(e){t.flights=e.data}):"REGISTERED"==e.data&&o.a.get("/api/getFlightsCompany/"+t.idCompany).then(function(e){t.flights=e.data})})},mounted:function(){},methods:{checkedClass:function(t){this.check=t},search:function(){var t=this,e=0,a=0,n=0,i=0,s=0,r=0;1==this.check&&(e=this.MinPrice,a=this.MaxPrice),2==this.check&&(n=this.MinPrice,i=this.MaxPrice),3==this.check&&(s=this.MinPrice,r=this.MaxPrice);var c={startDestination:this.startDestination,endDestination:this.endDestination,startDate:this.startDate,endDate:this.endDate,minEconomic:e,minBusiness:n,minFirstClass:s,maxEconomic:a,maxBusiness:i,maxFirstClass:r,flightDuration:this.flightDuration,flightLength:this.flightLength,companyId:-1,transitionsNum:this.transitionsNum},l=function(){return localStorage.getItem("jwtToken")};"REGISTERED"==this.role&&(c.companyId=this.idCompany),o.a.defaults.headers.common["Authorization"]="Bearer "+l(),o.a.post("/api/flightsInCompany",c).then(function(e){t.flights=e.data})},goToDetails:function(t){localStorage.setItem("flightID",t),window.location="/front/flightForAdmin"},goToDetailsForReservation:function(t){localStorage.setItem("flightID",t),window.location="/front/flight"},removeFlight:function(t,e){var a=this,n=function(){return localStorage.getItem("jwtToken")};o.a.defaults.headers.common["Authorization"]="Bearer "+n(),o.a.get("/api/removeFlight/"+t.id).then(function(t){"success"==t.data?(a.flights.splice(e,1),alert("Flight is removed.")):alert(t.data)})}}},c=r,l=(a("9861"),a("2877")),d=Object(l["a"])(c,n,i,!1,null,null,null);e["a"]=d.exports},9861:function(t,e,a){"use strict";var n=a("7080"),i=a.n(n);i.a},"9d8d":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"navbar"}},[a("nav",{staticClass:"navbar navbar-expand-lg bg-dark navbar-dark static-top"},[a("div",{staticClass:"container"},[t._m(0),t._m(1),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarResponsive"}},[a("ul",{staticClass:"navbar-nav ml-auto"},[0!=t.type?a("li",{staticClass:"nav-item active"},[a("a",{staticClass:"nav-link",attrs:{href:t.homePage}},[t._v("Home\n                        "),a("span",{staticClass:"sr-only"},[t._v("(current)")])])]):t._e(),0!=t.type?a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{href:"/front/userProfile"}},[t._v("Profile")])]):t._e(),0!=t.type?a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{href:"/front/invites"}},[t._v("Invites")])]):t._e(),0!=t.type?a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",on:{click:t.logout}},[t._v("Logout")])]):t._e(),0==t.type?a("li",{staticClass:"nav-item active"},[a("a",{staticClass:"nav-link",on:{click:t.goToLogin}},[t._v("Login\n                        "),a("span",{staticClass:"sr-only"},[t._v("(current)")])])]):t._e(),0==t.type?a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{href:"/front/registerPage"}},[t._v("Register")])]):t._e()])])])])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"navbar-brand",attrs:{href:"#"}},[a("img",{attrs:{src:"http://placehold.it/150x50?text=Logo",alt:""}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarResponsive","aria-controls":"navbarResponsive","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])}],s=a("bc3a"),o=a.n(s),r={name:"navbar",data:function(){return{type:0,homePage:""}},mounted:function(){var t=this;console.log(this.type);var e=function(){return localStorage.getItem("jwtToken")};o.a.defaults.headers.common["Authorization"]="Bearer "+e(),o.a.get("/api/getUserRole").then(function(e){console.log(e.data),t.type=1,console.log(e),"RENT_ADMIN"==e.data?t.homePage="/front/RAindex":"FLIGHT_ADMIN"==e.data?t.homePage="/front/flightAdmin":"SYS_ADMIN"==e.data?t.homePage="/front/systemAdminPage":"REGISTERED"==e.data?t.homePage="/front/index":"HOTEL_ADMIN"==e.data?t.homePage="/front/hotelAdminPage":(t.homePage="/",t.type=0)})},methods:{logout:function(){localStorage.setItem("jwtToken",""),window.location="/"},goToLogin:function(){this.$router.push("/front/loginPage")}}},c=r,l=(a("3fa7"),a("2877")),d=Object(l["a"])(c,n,i,!1,null,"6d824b51",null);e["a"]=d.exports},c941:function(t,e,a){},e012:function(t,e,a){},f52b:function(t,e,a){},f80d:function(t,e,a){"use strict";var n=a("f52b"),i=a.n(n);i.a}}]);
//# sourceMappingURL=chunk-bb42bf70.054dfa2c.js.map