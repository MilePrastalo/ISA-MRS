(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-729aec9f","chunk-1958aa3f"],{"010e7":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"confirmationPage"}},[1==t.currentDiv&&0==this.previous?a("div",[a("login",{attrs:{requestId:t.requestId},on:{currentDiv:t.changeDiv}})],1):t._e(),2==t.currentDiv?a("div",[a("navbar"),a("div",{staticClass:"container"},[a("h1",[t._v("Reservation Request")]),a("br"),a("br"),a("table",{staticStyle:{"text-align":"left","margin-left":"auto","margin-right":"auto"}},[a("tr",[a("td",[t._v("From: ")]),a("td",[t._v(t._s(t.request.creator))])]),a("tr",[a("td",[t._v("Total: ")]),a("td",[t._v(t._s(t.request.price))])])]),a("br"),a("h2",[t._v("Flight Info")]),a("br"),a("table",{staticStyle:{"text-align":"left","margin-left":"auto","margin-right":"auto"}},[a("tr",[a("td",[t._v(" Start destination: ")]),a("td",[t._v(" "+t._s(t.request.startDestination)+" ")])]),a("tr",[a("td",[t._v("End destination: ")]),a("td",[t._v(t._s(t.request.endDestination))])]),a("tr",[a("td",[t._v("Start date: ")]),a("td",[t._v(t._s(t.request.startDate))])]),a("tr",[a("td",[t._v("End date: ")]),a("td",[t._v(t._s(t.request.endDate))])])]),a("br"),a("h2",[t._v("Your Seat")]),a("br"),a("table",{staticStyle:{"text-align":"left","margin-left":"auto","margin-right":"auto"}},[a("tr",[a("td",[t._v("Class: ")]),a("td",[t._v(t._s(t.request.travelClassa)+" ")])]),a("tr",[a("td",[t._v("Seat: ")]),a("td",[t._v("row: "+t._s(t.request.seatRow)+", column: "+t._s(t.request.seatColumn)+" ")])]),a("tr",[a("td",[t._v("Price: ")]),a("td",[t._v(t._s(t.request.priceForSeat)+" ")])])]),a("br"),a("h2",[t._v("Passangers")]),a("br"),a("table",{staticStyle:{"text-align":"left","margin-left":"auto","margin-right":"auto"},attrs:{border:"1"}},t._l(t.request.passangersInfo,function(e){return a("td",{key:e.id,staticStyle:{padding:"10px"}},[a("tr",[a("th",{attrs:{colspan:"2"}},[t._v(t._s(e.firstName)+" "+t._s(e.lastName))])]),a("tr",[a("td",[t._v("Seat: ")]),a("td",[t._v("("+t._s(e.seatRow)+", "+t._s(e.seatColumn)+")")])]),a("tr",[a("td",[t._v("Class: ")]),a("td",[t._v(t._s(e.travelClass))])]),a("tr",[a("td",[t._v("Passport: ")]),a("td",[t._v(t._s(e.passport))])]),a("tr",[a("td",[t._v("Status: ")]),"Confirmed"==e.status?a("td",{staticStyle:{color:"green"}},[t._v(t._s(e.status))]):t._e(),"Waiting"==e.status?a("td",{staticStyle:{color:"blue"}},[t._v(t._s(e.status))]):t._e(),"Refused"==e.status?a("td",{staticStyle:{color:"red"}},[t._v(t._s(e.status))]):t._e()])])}),0),a("br"),a("h2",[t._v("Hotel Reservation")]),a("br"),a("table",{staticStyle:{"text-align":"left","margin-left":"auto","margin-right":"auto"},attrs:{border:"1"}},t._l(t.request.hotelsReservations,function(e){return a("td",{key:e.hotelName,staticStyle:{padding:"10px"}},[a("table",{staticStyle:{"text-align":"left"},attrs:{border:"1"}},[a("tr",[a("th",{attrs:{colspan:"2"}},[t._v(t._s(e.hotelName))])]),a("tr",[a("td",[t._v("From: ")]),a("td",[t._v(t._s(e.firstDay))])]),a("tr",[a("td",[t._v("To: ")]),a("td",[t._v(t._s(e.lastDay))])]),a("tr",[a("td",[t._v("Paid price: ")]),a("td",[t._v(" "+t._s(e.paidPrice)+" ")])])])])}),0),a("br"),a("h2",[t._v("Rent-A-Car Reservation")]),a("br"),a("table",{staticStyle:{"text-align":"left","margin-left":"auto","margin-right":"auto"},attrs:{border:"1"}},t._l(t.request.rentReservations,function(e){return a("td",{key:e.id,staticStyle:{padding:"10px"}},[a("table",{staticStyle:{"text-align":"left"},attrs:{border:"1"}},[a("tr",[a("th",{attrs:{colspan:"2"}},[t._v(t._s(e.vehicleName))])]),a("tr",[a("td",[t._v("From: ")]),a("td",[t._v(t._s(e.dateFrom))])]),a("tr",[a("td",[t._v("To: ")]),a("td",[t._v(t._s(e.dateTo))])]),a("tr",[a("td",[t._v("Paid price: ")]),a("td",[t._v(t._s(e.price))])])])])}),0),0==this.selected?a("button",{staticClass:"btn btn-success",on:{click:t.confirmRequest}},[t._v("Confirm")]):t._e(),0==this.selected?a("button",{staticClass:"btn btn-danger",on:{click:t.refuseRequest}},[t._v("Reject")]):t._e()])],1):t._e()])},s=[],n=a("bc3a"),o=a.n(n),i=a("0f44"),l=a("9d8d"),c={name:"confirmationPage",components:{login:i["default"],navbar:l["a"]},data:function(){return{username:"",password:"",request:{},requestId:this.$route.params.requestId,selected:!1,currentDiv:1,previous:!1}},created:function(){var t=this;"http://localhost:8080/front/index"==document.referrer&&(o.a.defaults.headers.common["Authorization"]="Bearer "+localStorage.getItem("jwtToken"),o.a.get("/api/getReservationRequest/"+this.requestId).then(function(e){if(""==e.data)return alert("You didn't sign in or it's not your invitation"),void(t.currentDiv=1);t.request=e.data,t.currentDiv=2,t.previous=!0}))},mounted:function(){},methods:{changeDiv:function(t){var e=this;2==t&&(o.a.defaults.headers.common["Authorization"]="Bearer "+localStorage.getItem("jwtToken"),o.a.get("/api/getReservationRequest/"+this.requestId).then(function(a){if(""==a.data)return alert("You didn't sign in or it's not your invitation"),void(e.currentDiv=1);e.request=a.data,e.currentDiv=t}))},confirmRequest:function(){var t=this,e=function(){return localStorage.getItem("jwtToken")};o.a.defaults.headers.common["Authorization"]="Bearer "+e(),o.a.get("/api/confirmReservationRequest/"+this.requestId).then(function(e){alert(e.data),"success"==e.data&&(t.selected=!0)})},refuseRequest:function(){var t=this,e=function(){return localStorage.getItem("jwtToken")};o.a.defaults.headers.common["Authorization"]="Bearer "+e(),o.a.get("/api/refuseReservationRequest/"+this.requestId).then(function(e){alert(e.data),"success"==e.data&&(t.selected=!0)})}}},u=c,d=(a("441a"),a("2877")),v=Object(d["a"])(u,r,s,!1,null,null,null);e["default"]=v.exports},"0f44":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"loginPage"}},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-9 col-md-7 col-lg-5 mx-auto blue-border"},[a("div",{staticClass:"card card-signin my-5"},[a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-title text-center"},[t._v("Login")]),a("form",{staticClass:"form-signin"},[a("div",{staticClass:"form-label-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control",attrs:{id:"inputEmail",placeholder:"Username",required:"",autofocus:""},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),a("label",{attrs:{for:"inputEmail"}},[t._v("Username")])]),a("div",{staticClass:"form-label-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"inputPassword",placeholder:"Password",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),a("label",{attrs:{for:"inputPassword"}},[t._v("Password")])]),a("button",{staticClass:"btn btn-lg btn-primary btn-block text-uppercase",attrs:{type:"submit"},on:{click:t.login}},[t._v("Log in")]),a("button",{staticClass:"btn btn-lg btn-warning btn-block text-uppercase",on:{click:t.goBack}},[t._v("Back")])])])])])])])])},s=[],n=(a("f559"),a("bc3a")),o=a.n(n),i={name:"loginPage",props:["requestId"],data:function(){return{username:"",password:""}},methods:{goBack:function(t){t.preventDefault(),console.log("clicked"),window.location.href="/"},login:function(t){var e=this;t.preventDefault(),""!=this.username&&""!=this.password?o.a.post("/auth/login",{username:this.username,password:this.password}).then(function(t){console.log(t),200==t.status?(console.log(t.data.accessToken),localStorage.setItem("jwtToken",t.data.accessToken),"NOT CONFIRMED"==t.data?(alert("Account not confirmed"),window.location="./"):e.checkFirstLogin()):alert("Wrong username or password")}):alert("All fields must be filled")},checkFirstLogin:function(){var t=this,e=function(){return localStorage.getItem("jwtToken")};o.a.defaults.headers.common["Authorization"]="Bearer "+e(),o.a.get("/api/getFirstLogged").then(function(e){console.log(e),"NOT"==e.data?window.location="/front/FirstLogin":t.getRole()})},getRole:function(){var t=this;console.log("GET ROLE");var e=function(){return localStorage.getItem("jwtToken")};o.a.defaults.headers.common["Authorization"]="Bearer "+e(),o.a.get("/api/getUserRole").then(function(e){console.log(e),"RENT_ADMIN"==e.data?t.$router.push("front/RAindex"):"FLIGHT_ADMIN"==e.data?t.$router.push("front/flightAdmin"):"SYS_ADMIN"==e.data?t.$router.push("front/systemAdminPage"):"REGISTERED"==e.data?window.location.pathname.startsWith("/front/confirmationPage")?t.$emit("currentDiv",2):t.$router.push("front/index"):"HOTEL_ADMIN"==e.data?t.$router.push("front/hotelAdminPage"):t.$router.push("/")})}}},l=i,c=(a("917f"),a("2877")),u=Object(c["a"])(l,r,s,!1,null,"3104f954",null);e["default"]=u.exports},"3fa7":function(t,e,a){"use strict";var r=a("e012"),s=a.n(r);s.a},"441a":function(t,e,a){"use strict";var r=a("b324"),s=a.n(r);s.a},5147:function(t,e,a){var r=a("2b4c")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(a){try{return e[r]=!1,!"/./"[t](e)}catch(s){}}return!0}},"917f":function(t,e,a){"use strict";var r=a("d479"),s=a.n(r);s.a},"9d8d":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"navbar"}},[a("nav",{staticClass:"navbar navbar-expand-lg bg-dark navbar-dark static-top"},[a("div",{staticClass:"container"},[t._m(0),t._m(1),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarResponsive"}},[a("ul",{staticClass:"navbar-nav ml-auto"},[0!=t.type?a("li",{staticClass:"nav-item active"},[a("a",{staticClass:"nav-link",attrs:{href:t.homePage}},[t._v("Home\n                        "),a("span",{staticClass:"sr-only"},[t._v("(current)")])])]):t._e(),0!=t.type?a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{href:"/front/userProfile"}},[t._v("Profile")])]):t._e(),0!=t.type?a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{href:"/front/invites"}},[t._v("Invites")])]):t._e(),0!=t.type?a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",on:{click:t.logout}},[t._v("Logout")])]):t._e(),0==t.type?a("li",{staticClass:"nav-item active"},[a("a",{staticClass:"nav-link",on:{click:t.goToLogin}},[t._v("Login\n                        "),a("span",{staticClass:"sr-only"},[t._v("(current)")])])]):t._e(),0==t.type?a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{href:"/front/registerPage"}},[t._v("Register")])]):t._e()])])])])])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"navbar-brand",attrs:{href:"#"}},[a("img",{attrs:{src:"http://placehold.it/150x50?text=Logo",alt:""}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarResponsive","aria-controls":"navbarResponsive","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])}],n=a("bc3a"),o=a.n(n),i={name:"navbar",data:function(){return{type:0,homePage:""}},mounted:function(){var t=this;console.log(this.type);var e=function(){return localStorage.getItem("jwtToken")};o.a.defaults.headers.common["Authorization"]="Bearer "+e(),o.a.get("/api/getUserRole").then(function(e){console.log(e.data),t.type=1,console.log(e),"RENT_ADMIN"==e.data?t.homePage="/front/RAindex":"FLIGHT_ADMIN"==e.data?t.homePage="/front/flightAdmin":"SYS_ADMIN"==e.data?t.homePage="/front/systemAdminPage":"REGISTERED"==e.data?t.homePage="/front/index":"HOTEL_ADMIN"==e.data?t.homePage="/front/hotelAdminPage":(t.homePage="/",t.type=0)})},methods:{logout:function(){localStorage.setItem("jwtToken",""),window.location="/"},goToLogin:function(){this.$router.push("/front/loginPage")}}},l=i,c=(a("3fa7"),a("2877")),u=Object(c["a"])(l,r,s,!1,null,"6d824b51",null);e["a"]=u.exports},aae3:function(t,e,a){var r=a("d3f4"),s=a("2d95"),n=a("2b4c")("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[n])?!!e:"RegExp"==s(t))}},b324:function(t,e,a){},d2c8:function(t,e,a){var r=a("aae3"),s=a("be13");t.exports=function(t,e,a){if(r(e))throw TypeError("String#"+a+" doesn't accept regex!");return String(s(t))}},d479:function(t,e,a){},e012:function(t,e,a){},f559:function(t,e,a){"use strict";var r=a("5ca1"),s=a("9def"),n=a("d2c8"),o="startsWith",i=""[o];r(r.P+r.F*a("5147")(o),"String",{startsWith:function(t){var e=n(this,t,o),a=s(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return i?i.call(e,r,a):e.slice(a,a+r.length)===r}})}}]);
//# sourceMappingURL=chunk-729aec9f.d15f7019.js.map